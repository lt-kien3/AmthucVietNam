<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> ·∫®m Th·ª±c T·∫øt Vi·ªát Nam</title>
  <style>
    /* ---------- C∆° b·∫£n ---------- */
    :root{
      --bg:#f7f7f8; --card:#ffffff; --muted:#666; --accent:#b91c1c;
      --glass: rgba(255,255,255,0.6);
    }
    body{ margin:0; font-family: "Segoe UI", Roboto, Arial, sans-serif; background:var(--bg); color:#111; transition: .25s }
    .dark { --bg:#0b0b0c; --card:#121214; --muted:#bfc3c7; --accent:#f97316; --glass: rgba(255,255,255,0.04); color:#eee; }
    .container{ max-width:1000px; margin:24px auto; padding:16px; }

    header{ display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px;}
    .brand { display:flex; gap:12px; align-items:center; }
    .logo{ width:56px; height:56px; border-radius:10px; background:linear-gradient(135deg,#f97316,#ef4444); color:white; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; }
    h1{ margin:0; font-size:20px; }
    .subtitle{ color:var(--muted); font-size:13px; }

    /* menu ch·ª©c nƒÉng (Tin t·ª©c / B√¨nh lu·∫≠n / Ph√¢n t√≠ch) */
    nav{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .menu-btn{ background:transparent; border:1px solid rgba(0,0,0,0.06); padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
    .menu-btn.active{ background:var(--accent); color:white; border-color:transparent; }

    /* search + controls */
    .controls{ display:flex; gap:8px; align-items:center; margin-top:12px; flex-wrap:wrap; }
    .search{ padding:8px 10px; border-radius:10px; border:1px solid rgba(0,0,0,0.08); width:240px; }
    .select{ padding:8px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); }
    .small-btn{ padding:8px 10px; border-radius:8px; border:0; cursor:pointer; }

    /* layout */
    main { display:grid; grid-template-columns: 1fr 300px; gap:18px; align-items:start; }
    .card{ background:var(--card); border-radius:12px; padding:14px; box-shadow: 0 6px 18px rgba(16,24,40,0.06); }
    .post{ margin-bottom:14px; padding-bottom:10px; border-bottom:1px dashed rgba(0,0,0,0.05); }
    .post:last-child{ border-bottom:0; }
    .post h3{ margin:0 0 6px 0; }
    .meta{ font-size:13px; color:var(--muted); margin-bottom:8px; }
    .excerpt{ font-size:14px; color:inherit; margin-bottom:10px; }

    .post-actions{ display:flex; gap:8px; flex-wrap:wrap; }
    .btn-like, .btn-book{ padding:6px 10px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); cursor:pointer; background:transparent; }
    .btn-like.liked{ background:#fee2e2; border-color:rgba(239,68,68,0.3); }
    .btn-book.booked{ background:#ecfeff; border-color:rgba(6,182,212,0.2); }

    /* right column */
    aside .section{ margin-bottom:12px; }
    .tag{ display:inline-block; padding:6px 8px; border-radius:20px; border:1px solid rgba(0,0,0,0.06); margin:4px 4px 0 0; cursor:pointer; font-size:13px; }

    /* modal ƒë·ªçc b√†i */
    .modal-bg{ position:fixed; inset:0; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index:60; }
    .modal{ width:90%; max-width:820px; max-height:90vh; overflow:auto; border-radius:12px; padding:18px; background:var(--card); box-shadow:0 10px 30px rgba(2,6,23,0.6); }

    /* comment area */
    .comments{ margin-top:12px; }
    .comment{ padding:8px; border-radius:8px; background:var(--glass); margin-bottom:8px; font-size:14px; }

    footer{ text-align:center; margin-top:22px; color:var(--muted); font-size:13px; }

    @media (max-width:900px){
      main{ grid-template-columns:1fr; }
      .logo{ width:46px; height:46px; font-size:16px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">T·∫æT</div>
        <div>
          <h1> ·∫®m Th·ª±c T·∫øt Vi·ªát Nam</h1>
          <div class="subtitle">M√≥n ƒÉn truy·ªÅn th·ªëng ‚Äî C√¢u chuy·ªán & ph√¢n t√≠ch</div>
        </div>
      </div>

      <div>
        <button class="small-btn" id="darkToggle">üåô Dark</button>
      </div>
    </header>

    <!-- menu ch·ª©c nƒÉng ch√≠nh -->
    <div style="display:flex; gap:8px; align-items:center; margin-bottom:10px;">
      <nav id="mainMenu">
        <button class="menu-btn active" data-category="all" onclick="filterByCategory('all', this)">üì∞ Tin t·ª©c</button>
        <button class="menu-btn" data-category="commentary" onclick="filterByCategory('commentary', this)">üí¨ B√¨nh lu·∫≠n</button>
        <button class="menu-btn" data-category="analysis" onclick="filterByCategory('analysis', this)">üìä Ph√¢n t√≠ch</button>
      </nav>
    </div>

    <!-- controls -->
    <div class="controls">
      <input class="search" id="searchInput" placeholder="T√¨m ki·∫øm theo ti√™u ƒë·ªÅ ho·∫∑c nguy√™n li·ªáu..." oninput="applyFilters()" />
      <select class="select" id="regionSelect" onchange="applyFilters()">
        <option value="all">T·∫•t c·∫£ v√πng</option>
        <option value="bac">Mi·ªÅn B·∫Øc</option>
        <option value="trung">Mi·ªÅn Trung</option>
        <option value="nam">Mi·ªÅn Nam</option>
      </select>
      <button class="small-btn" onclick="clearFilters()">X√≥a filter</button>
      <div style="margin-left:auto; color:var(--muted); font-size:13px; align-self:center;">M·∫πo: b·∫•m v√†o ti√™u ƒë·ªÅ ƒë·ªÉ ƒë·ªçc chi ti·∫øt</div>
    </div>

    <main>
      <!-- c·ªôt b√†i vi·∫øt -->
      <section>
        <div class="card" id="postsContainer">
          <!-- Posts s·∫Ω ƒë∆∞·ª£c render b·ªüi JavaScript -->
        </div>
      </section>

      <!-- c·ªôt ph·∫£i: sidebar -->
      <aside>
        <div class="card section">
          <h4>Ch·ª©c nƒÉng nhanh</h4>
          <div style="margin-top:8px;">
            <div class="tag" onclick="applyQuick('banh-chung')">B√°nh ch∆∞ng</div>
            <div class="tag" onclick="applyQuick('mut-tet')">M·ª©t T·∫øt</div>
            <div class="tag" onclick="applyQuick('gio-cha')">Gi√≤, ch·∫£</div>
            <div class="tag" onclick="applyQuick('canh-kho')">Canh kh·ªï‚Ä¶</div>
          </div>
        </div>

        <div class="card section">
          <h4>B√†i ƒë√£ l∆∞u</h4>
          <div id="bookmarksList" style="margin-top:8px; color:var(--muted)">B·∫°n ch∆∞a l∆∞u b√†i n√†o.</div>
        </div>

        <div class="card section">
          <h4>ƒêƒÉng k√Ω nh·∫≠n tin</h4>
          <p style="margin:8px 0 10px 0; color:var(--muted); font-size:13px">Nh·∫≠p email ƒë·ªÉ nh·∫≠n g·ª£i √Ω m√≥n ƒÉn ng√†y T·∫øt.</p>
          <input id="emailSub" placeholder="you@example.com" style="width:100%; padding:8px; border-radius:8px; border:1px solid rgba(0,0,0,0.08)" />
          <div style="margin-top:8px; display:flex; gap:8px;">
            <button class="small-btn" onclick="subscribe()">ƒêƒÉng k√Ω</button>
            <button class="small-btn" onclick="alert('C·∫£m ∆°n!')">H·ªßy</button>
          </div>
        </div>
      </aside>
    </main>

    <footer>¬© 2025 ‚Äî Blog ·∫®m Th·ª±c T·∫øt Vi·ªát Nam </footer>
  </div>

  <!-- Modal hi·ªÉn th·ªã b√†i vi·∫øt -->
  <div id="modalRoot" class="hidden"></div>

  <script>
    // d·ªØ li·ªáu b√†i vi·∫øt m·∫´u
    const POSTS = [
      {
        id:1,
        title:"B√°nh ch∆∞ng ‚Äî Linh h·ªìn m√¢m c·ªó T·∫øt mi·ªÅn B·∫Øc",
        category:"analysis",
        region:"bac",
        tags:["banh-chung","nienguyen","gac"],
        date:"2025-01-20",
        excerpt:"B√°nh ch∆∞ng kh√¥ng ch·ªâ l√† m√≥n ƒÉn, m√† c√≤n l√† bi·ªÉu t∆∞·ª£ng vƒÉn h√≥a g·∫Øn k·∫øt gia ƒë√¨nh trong d·ªãp T·∫øt.",
        content:`<p>B√°nh ch∆∞ng l√† m·ªôt trong nh·ªØng m√≥n kh√¥ng th·ªÉ thi·∫øu tr√™n m√¢m c·ªó T·∫øt mi·ªÅn B·∫Øc. ƒê·ªÉ l√†m b√°nh ch∆∞ng ngon, ng∆∞·ªùi l√†m ph·∫£i ch·ªçn g·∫°o n·∫øp d·∫ªo, ƒë·∫≠u xanh ƒë√£i k·ªπ, l√° dong t∆∞∆°i v√† th·ªãt ba ch·ªâ t∆∞∆°i ngon. Qu√° tr√¨nh g√≥i v√† lu·ªôc b√°nh th∆∞·ªùng l√† ho·∫°t ƒë·ªông gia ƒë√¨nh k√©o d√†i nhi·ªÅu gi·ªù, t·∫°o n√™n kh√¥ng kh√≠ ƒëo√†n vi√™n.</p>
                 <h4>M·ªôt v√†i l∆∞u √Ω khi n·∫•u</h4>
                 <ul>
                   <li>Ng√¢m g·∫°o n·∫øp ƒë·ªß th·ªùi gian ƒë·ªÉ ƒë·∫£m b·∫£o d·∫ªo.</li>
                   <li>∆Ø·ªõp th·ªãt v·ª´a mi·ªáng, k·∫øt h·ª£p m·∫Øm mu·ªëi v√† ti√™u.</li>
                   <li>Lu·ªôc √≠t nh·∫•t 6‚Äì8 ti·∫øng ƒë·ªÉ nh√¢n ch√≠n ƒë·ªÅu.</li>
                 </ul>`
      },
      {
        id:2,
        title:"M·ª©t T·∫øt: V·ªã ng·ªçt c·ªßa k·ª∑ ni·ªám",
        category:"commentary",
        region:"nam",
        tags:["mut-tet","dua","man","coconut"],
        date:"2025-01-18",
        excerpt:"M·ª©t T·∫øt g·ª£i nh·ªõ tu·ªïi th∆°: t·ª´ng l√°t m·ª©t d·ª´a, m·ª©t g·ª´ng... m·ªói gia ƒë√¨nh c√≥ b√≠ quy·∫øt ri√™ng.",
        content:`<p>M·ª©t T·∫øt ƒëa d·∫°ng t·ª´ m·ª©t d·ª´a, m·ª©t g·ª´ng, m·ª©t sen cho t·ªõi m·ª©t t·∫Øc. M·ªói lo·∫°i c√≥ k·ªπ thu·∫≠t l√†m kh√°c nhau: m·ª©t d·ª´a c·∫ßn s√™n l·ª≠a nh·ªè, m·ª©t g·ª´ng c·∫ßn kh·ª≠ v·ªã cay, m·ª©t sen c·∫ßn gi·ªØ h√¨nh d·∫°ng h·∫°t sen.</p>
                 <p><b>√ù nghƒ©a:</b> Nh·ªØng ƒëƒ©a m·ª©t l√† l·ªùi ch√∫c ng·ªçt ng√†o cho nƒÉm m·ªõi.</p>`
      },
      {
        id:3,
        title:"Gi√≤, ch·∫£ ng√†y T·∫øt ‚Äî Ngh·ªÅ truy·ªÅn th·ªëng kh√¥ng th·ªÉ thay th·∫ø",
        category:"news",
        region:"trung",
        tags:["gio-cha","thit","lang-nghe"],
        date:"2025-01-15",
        excerpt:"Nhi·ªÅu l√†ng ngh·ªÅ gi√≤ ch·∫£ ƒëang c·ªë g·∫Øng duy tr√¨ ph∆∞∆°ng ph√°p l√†m truy·ªÅn th·ªëng gi·ªØa th·ªùi hi·ªán ƒë·∫°i h√≥a.",
        content:`<p>Gi√≤, ch·∫£ l√† m√≥n ƒÉn ph·ªï bi·∫øn tr√™n kh·∫Øp ba mi·ªÅn. ·ªû t·ª´ng n∆°i, c√°ch ∆∞·ªõp gia v·ªã v√† lao ƒë·ªông l√†m gi√≤ c≈©ng kh√°c nhau. Nh·ªØng l√†ng ngh·ªÅ v·∫´n gi·ªØ b√≠ quy·∫øt gia truy·ªÅn, d√πng tay th·ªß c√¥ng ƒë·ªÉ l√†m ra chi·∫øc gi√≤ d·∫ªo, th∆°m.</p>`
      },
      {
        id:4,
        title:"Canh kh·ªï, canh chua ‚Äî L·ªùi ch√∫c cho nƒÉm m·ªõi an l√†nh",
        category:"analysis",
        region:"nam",
        tags:["canh","an-sach","nam"],
        date:"2025-01-10",
        excerpt:"Canh ng√†y T·∫øt th∆∞·ªùng mang nhi·ªÅu √Ω nghƒ©a: c√¢n b·∫±ng v·ªã v√† l·ªùi c·∫ßu ch√∫c s·ª©c kh·ªèe.",
        content:`<p>Ng∆∞·ªùi Nam th∆∞·ªùng d√πng canh chua, canh kh·ªï (nh·ªØng m√≥n truy·ªÅn th·ªëng) ƒë·ªÉ c√¢n b·∫±ng kh·∫©u v·ªã b√™n c·∫°nh c√°c m√≥n nhi·ªÅu d·∫ßu m·ª° nh∆∞ th·ªãt kho.</p>`
      }
    ];

    // tr·∫°ng th√°i
    let state = {
      activeMenu: 'all', // all/commentary/analysis
      region: 'all',
      query: '',
      bookmarks: JSON.parse(localStorage.getItem('tTetBookmarks')||'[]'),
    };

    // DOM refs
    const postsContainer = document.getElementById('postsContainer');
    const bookmarksList = document.getElementById('bookmarksList');
    const modalRoot = document.getElementById('modalRoot');

    function renderPosts(){
      const q = document.getElementById('searchInput').value.trim().toLowerCase();
      const region = document.getElementById('regionSelect').value;
      postsContainer.innerHTML = '';

      // filter
      const filtered = POSTS.filter(p => {
        if(state.activeMenu !== 'all' && p.category !== state.activeMenu) return false;
        if(region !== 'all' && p.region !== region) return false;
        if(q && !(p.title.toLowerCase().includes(q) || p.excerpt.toLowerCase().includes(q) || p.tags.join(' ').includes(q))) return false;
        return true;
      });

      if(filtered.length === 0){
        postsContainer.innerHTML = '<div style="padding:16px; color:var(--muted)">Kh√¥ng t√¨m th·∫•y b√†i vi·∫øt.</div>';
        return;
      }

      filtered.forEach(p => {
        const postEl = document.createElement('div');
        postEl.className = 'post';
        postEl.innerHTML = `
          <h3 style="cursor:pointer" onclick="openPost(${p.id})">${p.title}</h3>
          <div class="meta">${p.date} ‚Ä¢ ${p.category === 'analysis' ? 'Ph√¢n t√≠ch' : p.category === 'commentary' ? 'B√¨nh lu·∫≠n' : 'Tin t·ª©c'} ‚Ä¢ ${regionLabel(p.region)}</div>
          <div class="excerpt">${p.excerpt}</div>
          <div class="post-actions">
            <button class="btn-like" data-id="${p.id}" onclick="toggleLike(event, ${p.id})">‚ù§Ô∏è <span id="likes-${p.id}">0</span></button>
            <button class="btn-book" data-id="${p.id}" onclick="toggleBookmark(event, ${p.id})">‚òÜ L∆∞u</button>
            <button class="small-btn" onclick="share(${p.id})">üîó Chia s·∫ª</button>
            <div style="margin-left:auto; color:var(--muted); font-size:13px">Tags: ${p.tags.map(t=>`<span style="font-size:13px;padding:4px 8px;border-radius:6px;margin-right:6px;background:rgba(0,0,0,0.04)">${t}</span>`).join('')}</div>
          </div>
        `;
        postsContainer.appendChild(postEl);
      });

      renderBookmarks();
    }

    function regionLabel(code){
      if(code==='bac') return 'Mi·ªÅn B·∫Øc';
      if(code==='trung') return 'Mi·ªÅn Trung';
      if(code==='nam') return 'Mi·ªÅn Nam';
      return 'To√†n qu·ªëc';
    }

    // Menu filter
    function filterByCategory(cat, el){
      state.activeMenu = cat;
      // active class handling
      document.querySelectorAll('#mainMenu .menu-btn').forEach(b=>b.classList.remove('active'));
      el.classList.add('active');
      renderPosts();
    }

    // Quick tag filter
    function applyQuick(tag){
      document.getElementById('searchInput').value = tag;
      applyFilters();
    }

    // Apply filters from controls
    function applyFilters(){
      state.region = document.getElementById('regionSelect').value;
      state.query = document.getElementById('searchInput').value.trim().toLowerCase();
      renderPosts();
    }

    function clearFilters(){
      document.getElementById('searchInput').value = '';
      document.getElementById('regionSelect').value = 'all';
      state.query = '';
      state.region = 'all';
      filterByCategory('all', document.querySelector('#mainMenu .menu-btn[data-category="all"]'));
      renderPosts();
    }

    // Like (client-only)
    const likes = {}; // store counts in-memory
    function toggleLike(ev, id){
      ev.stopPropagation();
      likes[id] = (likes[id]||0) + 1;
      document.getElementById('likes-'+id).innerText = likes[id];
      const btn = ev.currentTarget;
      btn.classList.add('liked');
    }

    // Bookmark (saved to localStorage)
    function toggleBookmark(ev, id){
      ev.stopPropagation();
      const i = state.bookmarks.indexOf(id);
      if(i === -1){
        state.bookmarks.push(id);
      } else {
        state.bookmarks.splice(i,1);
      }
      localStorage.setItem('tTetBookmarks', JSON.stringify(state.bookmarks));
      renderBookmarks();
      // update button styles
      renderPosts();
    }

    function renderBookmarks(){
      if(state.bookmarks.length === 0){
        bookmarksList.innerHTML = 'B·∫°n ch∆∞a l∆∞u b√†i n√†o.';
        return;
      }
      bookmarksList.innerHTML = '';
      state.bookmarks.forEach(id=>{
        const p = POSTS.find(x=>x.id===id);
        if(!p) return;
        const div = document.createElement('div');
        div.style.marginBottom='8px';
        div.innerHTML = `<strong style="font-size:14px">${p.title}</strong>
                         <div style="font-size:13px;color:var(--muted)">${p.date} ‚Ä¢ ${regionLabel(p.region)}</div>
                         <button class="small-btn" style="margin-top:6px" onclick="openPost(${p.id})">Xem</button>
                         <button class="small-btn" style="margin-top:6px" onclick="removeBookmark(${p.id})">B·ªè l∆∞u</button>`;
        bookmarksList.appendChild(div);
      });
    }

    function removeBookmark(id){
      const i = state.bookmarks.indexOf(id);
      if(i>-1){ state.bookmarks.splice(i,1); localStorage.setItem('tTetBookmarks', JSON.stringify(state.bookmarks)); renderBookmarks(); renderPosts(); }
    }

    // Share (simple)
    function share(id){
      const p = POSTS.find(x=>x.id===id);
      navigator.clipboard?.writeText(window.location.href + '#post-' + id).then(()=> alert('ƒê√£ copy link t·∫°m: ' + (window.location.href + '#post-' + id)));
    }

    // Open modal ƒë·ªçc b√†i
    function openPost(id){
      const p = POSTS.find(x=>x.id===id);
      if(!p) return;
      modalRoot.innerHTML = `
        <div class="modal-bg" onclick="closeModal()">
          <div class="modal" onclick="event.stopPropagation()">
            <button style="float:right;border:0;background:transparent;font-size:18px;cursor:pointer" onclick="closeModal()">‚úï</button>
            <h2>${p.title}</h2>
            <div style="color:var(--muted); margin-bottom:8px">${p.date} ‚Ä¢ ${regionLabel(p.region)} ‚Ä¢ ${p.category === 'analysis' ? 'Ph√¢n t√≠ch' : p.category === 'commentary' ? 'B√¨nh lu·∫≠n' : 'Tin t·ª©c'}</div>
            <div>${p.content}</div>

            <div class="comments">
              <h4 style="margin-top:14px">B√¨nh lu·∫≠n</h4>
              <div id="commentsArea"></div>
              <div style="margin-top:8px; display:flex; gap:8px;">
                <input id="commentInput" placeholder="Vi·∫øt b√¨nh lu·∫≠n..." style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.08)" />
                <button class="small-btn" onclick="postComment(${p.id})">G·ª≠i</button>
              </div>
            </div>
          </div>
        </div>
      `;
      modalRoot.classList.remove('hidden');
      // load comments from localStorage
      renderCommentsForPost(p.id);
    }

    function closeModal(){
      modalRoot.innerHTML = '';
      modalRoot.classList.add('hidden');
    }

    // comment storage (per-post in localStorage)
    function postComment(postId){
      const txt = document.getElementById('commentInput').value.trim();
      if(!txt) return alert('Vi·∫øt g√¨ ƒë√≥ ƒë√£ nh√©!');
      const key = 'tTetComments_' + postId;
      const arr = JSON.parse(localStorage.getItem(key) || '[]');
      arr.push({text:txt, at: new Date().toLocaleString()});
      localStorage.setItem(key, JSON.stringify(arr));
      document.getElementById('commentInput').value = '';
      renderCommentsForPost(postId);
    }

    function renderCommentsForPost(postId){
      const key = 'tTetComments_' + postId;
      const arr = JSON.parse(localStorage.getItem(key) || '[]');
      const area = document.getElementById('commentsArea');
      if(!area) return;
      area.innerHTML = '';
      if(arr.length === 0){ area.innerHTML = '<div style="color:var(--muted)">Ch∆∞a c√≥ b√¨nh lu·∫≠n n√†o.</div>'; return; }
      arr.forEach(c=>{
        const d = document.createElement('div');
        d.className = 'comment';
        d.innerHTML = `<div style="font-size:13px;color:var(--muted)">${c.at}</div><div style="margin-top:6px">${escapeHtml(c.text)}</div>`;
        area.appendChild(d);
      });
    }

    function escapeHtml(s){ return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

    // subscribe
    function subscribe(){
      const email = document.getElementById('emailSub').value.trim();
      if(!email) return alert('Nh·∫≠p email tr∆∞·ªõc nh√©');
      // l∆∞u t·∫°m (demo)
      const list = JSON.parse(localStorage.getItem('tTetSubscribers')||'[]');
      list.push({email, at:new Date().toLocaleString()});
      localStorage.setItem('tTetSubscribers', JSON.stringify(list));
      alert('C·∫£m ∆°n! Email ƒë√£ ƒë∆∞·ª£c l∆∞u.');
      document.getElementById('emailSub').value = '';
    }

    // dark mode toggle
    const darkToggle = document.getElementById('darkToggle');
    darkToggle.addEventListener('click', ()=>{
      document.documentElement.classList.toggle('dark');
      darkToggle.innerText = document.documentElement.classList.contains('dark') ? '‚òÄÔ∏è Light' : 'üåô Dark';
    });

    // helpers for UI
    function applyQuick(tag){ document.getElementById('searchInput').value = tag; applyFilters(); }

    // init
    document.addEventListener('DOMContentLoaded', ()=>{
      renderPosts();
      renderBookmarks();
    });

    // expose minimal functions to window for onclick inline
    window.filterByCategory = filterByCategory;
    window.applyFilters = applyFilters;
    window.clearFilters = clearFilters;
    window.openPost = openPost;
    window.closeModal = closeModal;
    window.toggleLike = toggleLike;
    window.toggleBookmark = toggleBookmark;
    window.share = share;
    window.applyQuick = applyQuick;
    window.postComment = postComment;
    window.subscribe = subscribe;
    window.removeBookmark = removeBookmark;
    window.renderPosts = renderPosts;
  </script>
</body>
</html>
